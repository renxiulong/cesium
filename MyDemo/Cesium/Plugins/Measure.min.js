"use strict";function Measurement(e,t){e=Cesium.getElement(e);var i=document.createElement("div"),n=new MeasurementViewModel(t,i);this._viewModel=n,this._container=e,this._element=i,e.appendChild(i);i.innerHTML='\n  <ul class="measure-type">   \n    <li><a data-bind="click: Distance, css: { current: _editType === \'distance\'}" id="DISTANCE">距离</a></li>\n    <li><a data-bind="click:AreaMeasure, css: { current: _editType === \'polygon\'}" id="AREA">面积</a></li>\n    <li><a data-bind="click:HeightMeasure, css: { current: _editType === \'height\'}" id="HEIGHT">高度</a></li>\n    <li><a data-bind="click: Point, css: { current: _editType === \'point\'}" id="POINT">坐标</a></li>\n  </ul>\n  <div class="point-wrap" data-bind="visible: _pointVisible">\n    <div>经度 <span data-bind="text : _lonNode"></span><label>°</label></div>\n    <div>纬度 <span data-bind="text : _latNode"></span><label>°</label></div>\n    <div>高度 <span data-bind="text : _heiNode"></span><label>m</label></div>\n    <button data-bind="click: ClearAll">清除</button>\n  </div>\n  <div class="distance-wrap" data-bind="visible: _lineVisible">\n    <div style="display:inline-block;">长度 <span data-bind="text : _lengthNode" id="lengthLi"></span></div>\n    <div class="unit"></div>\n    <button data-bind="click: ClearAll" style="margin-right: 0px;">清除</button>\n  </div>\n  <div class="polygon-wrap" data-bind="visible: _areaVisible">\n    <div style="display:inline-block;">总面积<span data-bind="text : _areaLengthNode" style="width:90px;" id="areaLengthLi"></span></div>\n    <div class="unit"></div>\n    <button data-bind="click: ClearAll" style="margin-right: 0px;">清除</button>\n  </div>\n  <div class="height-wrap" data-bind="visible:_heightVisible">\n    <div>高度 <span data-bind="text : _heightLengthNode"></span><label>m</label></div>\n    <div>平距 <span data-bind="text : _horizonLengthNode"></span><label>m</label></div>\n    <div>斜距 <span data-bind="text : _slantDistanceLengthNode"></span><label>m</label></div>\n    <button data-bind="click: ClearAll">清除</button>\n  </div>\n  ';var a=document.querySelectorAll(".unit"),s=document.createElement("select");s.id="length",s.className="DataEarth-Measure-select",s.options[0]=new Option("m","m"),s.options[1]=new Option("km","Km"),s.onchange=function(){n.LengthUnitChange()};var r=document.createElement("select");r.id="area",r.className="DataEarth-Measure-select",r.options[0]=new Option("㎡","m"),r.options[1]=new Option("k㎡","Km"),r.onchange=function(){n.AreaUnitChange()},a[0].appendChild(s),a[1].appendChild(r),Cesium.knockout.applyBindings(n,i)}Cesium.defineProperties(Measurement.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}});var MeasureUnit={DE_M:0,DE_SM:1,DE_KM:2,DE_SKM:3};function MeasurementViewModel(e,t){this._viewer=e;var i=this,n=e.scene.canvas,a=new Cesium.ScreenSpaceEventHandler(n);this._eventHandler=a,this._scene=e.scene,this._pointPositionollection=[],this._distanceMeasure=null,this._disPosition=[],this._disCollection=[],this._areaMeasure=null,this._areaCollection=[],this._heightMeasure=null,this._heiCollection=[],this._element=t,this._scene.globe.depthTestAgainstTerrain=!0,this._pointVisible=!1,this._lineVisible=!0,this._areaVisible=!1,this._heightVisible=!1,this.drawPointMeasure=!1,this.drawDistanceMeasure=!1,this.drawPolygonMeasure=!1,this.drawHeightMeasure=!1,this._editType="distance",this._drawPoint=!1,this._addPoinsMeasureTemp=[],MeasurementViewModel.prototype.getMeasurePoint3D=function(){if(1==i._addPoinsMeasureTemp.length)return i._addPoinsMeasureTemp[0].clone()},this._lonNode="0",this._latNode="0 ",this._heiNode="0",this._lengthNode="0",this._lengthNodeTemp=0,this._areaLengthNode="0",this._areaLengthNodeTemp=0,this._heightLengthNode="0",this._heightLengthNodeTemp=0,this._horizonLengthNode="0",this._horizonLengthNodeTemp=0,this._slantDistanceLengthNode="0",this._slantDistanceLengthNodeTemp=0,this.editerVisible=!0,Cesium.knockout.track(this,["editerVisible","editObject","_editType"]),Cesium.knockout.defineProperty(this,"PointMeasurelTooltip",function(){return"点位量测"}),Cesium.knockout.defineProperty(this,"moveModelTooltip",function(){return"距离量测"}),Cesium.knockout.defineProperty(this,"rotateModelTooltip",function(){return"面积量测"}),Cesium.knockout.defineProperty(this,"zoomModelTooltip",function(){return"高度量测"}),Cesium.knockout.defineProperty(this,"allModelTooltip",function(){return"清除量测"});var s=document.createElement("div");s.classList.add("move-point"),s.innerHTML='\n    <div class="content">\n        经度：'.concat(i._lonNode,"<br>\n        纬度：").concat(i._latNode,"<br>\n        高度：").concat(i._heiNode,"m\n    </div>\n    "),this._movementPoint=new Cesium.DEHtmlOverlay(i._viewer.scene,s.cloneNode(!0)),this._movementPoint.pixelOffset=new Cesium.Cartesian2(80,84),this._movementPoint.show=!1,this._distanceMeasureUnit=MeasureUnit.DE_M,this._areaMeasureUnit=MeasureUnit.DE_SM,this._heightMeasureUnit=MeasureUnit.DE_M,Cesium.knockout.track(this,["_pointVisible","_lineVisible","_areaVisible","_heightVisible","_lonNode","_latNode","_heiNode","_lengthNode","_lengthNodeTemp","_areaLengthNode","_heightLengthNode","_horizonLengthNode","_slantDistanceLengthNode","_distanceMeasureUnit","_areaMeasureUnit","_heightMeasureUnit"]),this.LengthUnitChange=function(){var e=document.getElementById("lengthLi").innerText,t=document.getElementById("length").value;"m"==t?i._distanceMeasureUnit=MeasureUnit.DE_M:"Km"==t&&(i._distanceMeasureUnit=MeasureUnit.DE_KM),"0"!=e&&(i._distanceMeasureUnit==MeasureUnit.DE_KM?document.getElementById("lengthLi").innerText=(i._lengthNodeTemp/1e3).toFixed(2):document.getElementById("lengthLi").innerText=i._lengthNodeTemp)},this.AreaUnitChange=function(){var e=document.getElementById("areaLengthLi").innerText,t=document.getElementById("area").value;"m"==t?i._areaMeasureUnit=MeasureUnit.DE_SM:"Km"==t&&(i._areaMeasureUnit=MeasureUnit.DE_SKM),"0"!=e&&(i._areaMeasureUnit==MeasureUnit.DE_SKM?document.getElementById("areaLengthLi").innerText=(i._areaLengthNodeTemp/1e6).toFixed(2):document.getElementById("areaLengthLi").innerText=i._areaLengthNodeTemp)},this.HeightUnitChange=function(){var e=document.getElementById("heightLengthLi").innerHTML,t=document.getElementById("height").value;"m"==t?i._heightMeasureUnit=MeasureUnit.DE_M:"Km"==t&&(i._heightMeasureUnit=MeasureUnit.DE_KM),"0"!=e&&(i._heightMeasureUnit==MeasureUnit.DE_KM?(document.getElementById("heightLengthLi").innerHTML=(i._heightLengthNodeTemp/1e3).toFixed(2),document.getElementById("horizonLengthLi").innerHTML=(i._horizonLengthNodeTemp/1e3).toFixed(2),document.getElementById("slantDistanceLengthLi").innerHTML=(i._slantDistanceLengthNodeTemp/1e3).toFixed(2)):(document.getElementById("heightLengthLi").innerHTML=i._heightLengthNodeTemp,document.getElementById("horizonLengthLi").innerHTML=i._horizonLengthNodeTemp,document.getElementById("slantDistanceLengthLi").innerHTML=i._slantDistanceLengthNodeTemp))};var r=Cesium.knockout.observable();Cesium.knockout.defineProperty(this,"editerVisible",{get:function(){return r()},set:function(e){r(e)}}),this.initialiseHandlers(),this._removePostRenderEvent=e.scene.postRender.addEventListener(function(){i._update()})}function endDistanceMeasure(e){e._distanceMeasure.enable&&(e._distanceMeasure.finish(),e._disCollection.push(e._distanceMeasure),e._distanceMeasureUnit==MeasureUnit.DE_KM?(e._distanceMeasure.unit=MeasureUnit.DE_SM,e._lengthNode=(e._distanceMeasure.length/1e3).toFixed(2)):(e._distanceMeasure.unit=MeasureUnit.DE_M,e._lengthNode=e._distanceMeasure.length),e._lengthNodeTemp=e._distanceMeasure.length,e._distanceMeasure.enable=!1,e._distanceMeasure=null,document.getElementById("DISTANCE").blur(),e.drawDistanceMeasure=!1,e._disPosition=[])}function endAreaMeasure(e,t){e._areaMeasure.enable&&(e._areaMeasure.finish(t),e._areaMeasureUnit==MeasureUnit.DE_SKM?(e._areaMeasure.unit=MeasureUnit.DE_SM,e._areaLengthNode=(e._areaMeasure.area/1e6).toFixed(2)):(e._areaMeasure.unit=MeasureUnit.DE_M,e._areaLengthNode=e._areaMeasure.area),e._areaLengthNodeTemp=e._areaMeasure.area,e._areaCollection.push(e._areaMeasure),e._areaMeasure.enable=!1,e._areaMeasure=null,document.getElementById("AREA").blur(),e.drawPolygonMeasure=!1)}function viewerMeasureMixin(e){var t=document.createElement("div");t.className="dataEarth-viewer-MeasureContainer",document.querySelector(".cesium-viewer").appendChild(t);var i=new Measurement(t,e);Cesium.defineProperties(e,{measurement:{get:function(){return i}}})}Cesium.defineProperties(MeasurementViewModel.prototype,{scene:{get:function(){return this._scene}},_primitiveprimitive:{get:function(){return this._primitive},set:function(e){var t=this._primitive;e!==t&&(Cesium.defined(t)&&(t.debugShowBoundingVolume=!1),Cesium.defined(this._modelMatrixPrimitive)&&(this._scene.primitives.remove(this._modelMatrixPrimitive),this._modelMatrixPrimitive=void 0),this.primitive=e)}}}),MeasurementViewModel.prototype.Point=function(){var e=this;e._editType="point",e._drawPoint=!0,null!=e._areaMeasure&&(e._areaMeasure.finish(),e._areaCollection.push(e._areaMeasure),e._areaMeasure.enable=!1,e._areaMeasure=null),null!=e._heightMeasure&&(e._heightMeasure.enable=!1,e._heiCollection.push(e._heightMeasure),e._heightMeasure=null),null!=e._distanceMeasure&&(e._distanceMeasure.finish(),e._disCollection.push(e._distanceMeasure),e._distanceMeasure.enable=!1,e._distanceMeasure=null),e._pointVisible=!0,e._lineVisible=!1,e._areaVisible=!1,e._heightVisible=!1,e.drawPointMeasure=!0,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!1},MeasurementViewModel.prototype.PointClear=function(){document.querySelectorAll(".measure-point").forEach(function(e){document.body.removeChild(e)})},MeasurementViewModel.prototype.Distance=function(){var e=this;e._editType="distance",e._drawPoint=!1,null!=e._areaMeasure&&(e._areaMeasure.finish(),e._areaCollection.push(e._areaMeasure),e._areaMeasure.enable=!1,e._areaMeasure=null),null!=e._heightMeasure&&(e._heightMeasure.enable=!1,e._heiCollection.push(e._heightMeasure),e._heightMeasure=null),e._distanceMeasure=new Cesium.DEDistanceMeasurement3D(e._viewer),e._distanceMeasure.enable=!0,e._pointVisible=!1,e._lineVisible=!0,e._areaVisible=!1,e._heightVisible=!1,e.drawPointMeasure=!1,e.drawDistanceMeasure=!0,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!1,e._movementPoint.show=!1},MeasurementViewModel.prototype.DistanceClear=function(){var e=this;null!=e._distanceMeasure&&(e._distanceMeasure.finish(),e._disCollection.push(e._distanceMeasure),e._distanceMeasure.enable=!1,e._distanceMeasure=null);for(var t=0;t<e._disCollection.length;t++)e._disCollection[t].clear();e._disCollection=[],e._lengthNode="0",e.drawPointMeasure=!1,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!1,e._disPosition=[]},MeasurementViewModel.prototype.AreaMeasure=function(){var e=this;e._editType="polygon",e._drawPoint=!1,null!=e._distanceMeasure&&(e._distanceMeasure.finish(),e._disCollection.push(e._distanceMeasure),e._distanceMeasure.enable=!1,e._distanceMeasure=null),null!=e._heightMeasure&&(e._heightMeasure.enable=!1,e._heiCollection.push(e._heightMeasure),e._heightMeasure=null),e._areaMeasure=new Cesium.DEAreaMeasurement3D(e._viewer),e._areaMeasure.enable=!0,e._pointVisible=!1,e._lineVisible=!1,e._areaVisible=!0,e._heightVisible=!1,e.drawPointMeasure=!1,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!0,e.drawHeightMeasure=!1,e._movementPoint.show=!1},MeasurementViewModel.prototype.AreaMeasureClear=function(){var e=this;null!=e._areaMeasure&&(e._areaMeasure.finish(),e._areaCollection.push(e._areaMeasure),e._areaMeasure.enable=!1,e._areaMeasure=null);for(var t=0;t<e._areaCollection.length;t++)e._areaCollection[t].clear();e._areaCollection=[],e._areaLengthNode="0",e.drawPointMeasure=!1,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!1},MeasurementViewModel.prototype.HeightMeasure=function(){var e=this;e._editType="height",e._drawPoint=!1,null!=e._distanceMeasure&&(e._distanceMeasure.finish(),e._disCollection.push(e._distanceMeasure),e._distanceMeasure.enable=!1,e._distanceMeasure=null),null!=e._areaMeasure&&(e._areaMeasure.finish(),e._areaCollection.push(e._areaMeasure),e._areaMeasure.enable=!1,e._areaMeasure=null),e._heightMeasure=new Cesium.DEDirectLineMeasurement3D(e._viewer),e._heightMeasure.enable=!0,e._pointVisible=!1,e._lineVisible=!1,e._areaVisible=!1,e._heightVisible=!0,e.drawPointMeasure=!1,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!0,e._movementPoint.show=!1},MeasurementViewModel.prototype.HeightMeasureClear=function(){var e=this;null!=e._heightMeasure&&(e._heightMeasure.enable=!1,e._heiCollection.push(e._heightMeasure),e._heightMeasure=null);for(var t=0;t<e._heiCollection.length;t++)e._heiCollection[t].clear();e._heiCollection=[],e._heightLengthNode="0",e._horizonLengthNode="0",e._slantDistanceLengthNode="0",e.drawPointMeasure=!1,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!1},MeasurementViewModel.prototype.ClearAll=function(){var e=this;switch(this.PointClear(),this.DistanceClear(),this.AreaMeasureClear(),this.HeightMeasureClear(),e._lonNode="0",e._latNode="0",e._heiNode="0",e._lengthNode="0",e._areaLengthNode="0",e._heightLengthNode="0",e._horizonLengthNode="0",e._slantDistanceLengthNode="0",e._editType){case"point":this.Point();break;case"distance":this.Distance();break;case"polygon":this.AreaMeasure();break;case"height":this.HeightMeasure()}},MeasurementViewModel.prototype.ResetState=function(){var e=this;e._drawPoint=!1,e._addPoinsMeasureTemp=[],e._pointLabelsingleTemp.position=void 0,null!=e._distanceMeasure&&(e._distanceMeasure.finish(),e._disCollection.push(e._distanceMeasure),e._distanceMeasure.enable=!1,e._distanceMeasure=null),null!=e._areaMeasure&&(e._areaMeasure.finish(),e._areaCollection.push(e._areaMeasure),e._areaMeasure.enable=!1,e._areaMeasure=null),null!=e._heightMeasure&&(e._heightMeasure.enable=!1,e._heiCollection.push(e._heightMeasure),e._heightMeasure=null),e.drawPointMeasure=!1,e.drawDistanceMeasure=!1,e.drawPolygonMeasure=!1,e.drawHeightMeasure=!1},MeasurementViewModel.prototype._update=function(){var e=this._scene.numberOfFrustums;this._numberOfFrustums=e,this.performance&&this._performanceDisplay.update()},MeasurementViewModel.prototype.initialiseHandlers=function(){var e=this._scene,r=this,t=new Cesium.ScreenSpaceEventHandler(e.canvas);t.setInputAction(function(e){if(r._drawPoint){document.getElementById("POINT").blur(),r.drawPointMeasure=!1;var t=document.createElement("div");t.classList.add("measure-point"),t.innerHTML='\n        <div class="content">\n            经度：'.concat(r._lonNode,"<br>\n            纬度：").concat(r._latNode,"<br>\n            高度：").concat(r._heiNode,'m\n        </div>\n        <i class="circle"></i>\n      ');var i=new Cesium.DEHtmlOverlay(r._viewer.scene,t.cloneNode(!0));i.position=r._addPoinsMeasureTemp[0].clone(),i.pixelOffset=new Cesium.Cartesian2(80,84),i.depthTest=!1}else if(null!=r._distanceMeasure){var n=r._viewer.scene.pickGlobe(e.position),a=new Cesium.Cartesian3;a.x=n.x,a.y=n.y,a.z=n.z;var s=0;if(0<r._disPosition.length&&(s=Cesium.Cartesian3.distance(r._disPosition[r._disPosition.length-1],a)),r._disPosition.push(a),r._distanceMeasure.enable){if(1<r._disPosition.length&&0==s)return;r._distanceMeasure.addPoint3D(e)}}else null!=r._areaMeasure?r._areaMeasure.enable&&r._areaMeasure.addPoint3D(e):null!=r._heightMeasure&&r._heightMeasure.enable&&(r._heightMeasure.addPoint3D(e),0==r._heightMeasure.enable&&(r._heightMeasureUnit==MeasureUnit.DE_KM?(r._heightLengthNode=(r._heightMeasure.vertical/1e3).toFixed(2),r._horizonLengthNode=(r._heightMeasure.horizon/1e3).toFixed(2),r._slantDistanceLengthNode=(r._heightMeasure.slantDistance/1e3).toFixed(2)):(r._heightLengthNode=r._heightMeasure.vertical,r._horizonLengthNode=r._heightMeasure.horizon,r._slantDistanceLengthNode=r._heightMeasure.slantDistance),r._heiCollection.push(r._heightMeasure),r._heightLengthNodeTemp=r._heightMeasure.vertical,r._horizonLengthNodeTemp=r._heightMeasure.horizon,r._slantDistanceLengthNodeTemp=r._heightMeasure.slantDistance,r._heightMeasure=null,document.getElementById("HEIGHT").blur(),r.drawHeightMeasure=!1,r.HeightMeasure()))},Cesium.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction(function(e){if(r._drawPoint){var t=r._viewer.scene.pickGlobe(e.endPosition);if(null!=t){r._addPoinsMeasureTemp[0]=t.clone();var i=Cesium.Cartographic.fromCartesian(t);r._lonNode=Cesium.Math.toDegrees(i.longitude).toFixed(10),r._latNode=Cesium.Math.toDegrees(i.latitude).toFixed(10),r._heiNode=i.height.toFixed(2),r._movementPoint.show=!0,r._movementPoint.position=t.clone(),r._movementPoint.element.innerHTML='\n        <div class="content">\n            经度：'.concat(r._lonNode,"<br>\n            纬度：").concat(r._latNode,"<br>\n            高度：").concat(r._heiNode,"m\n        </div>\n        ")}}else if(null!=r._distanceMeasure){if(r._distanceMeasure.enable){if(r._distanceMeasure.addPointTemp(e),r._distanceMeasure.points.length<1)return;r._distanceMeasureUnit==MeasureUnit.DE_KM?(r._distanceMeasure.unit=MeasureUnit.DE_SM,r._lengthNode=(r._distanceMeasure.length/1e3).toFixed(2)):(r._distanceMeasure.unit=MeasureUnit.DE_M,r._lengthNode=r._distanceMeasure.length)}}else if(null!=r._areaMeasure){if(r._areaMeasure.enable){if(r._areaMeasure.addPointTemp(e),r._areaMeasure.leftpoints.length<1)return;r._areaMeasureUnit==MeasureUnit.DE_SKM?(r._areaMeasure.unit=MeasureUnit.DE_SM,r._areaLengthNode=(r._areaMeasure.area/1e6).toFixed(2)):(r._areaMeasure.unit=MeasureUnit.DE_M,r._areaLengthNode=r._areaMeasure.area)}}else null!=r._heightMeasure&&r._heightMeasure.enable&&r._heightMeasure.eMeasureStatus!=Cesium.DEEMeasureStatus.LS_NONE&&(r._heightMeasure.addPointTemp(e),r._heightMeasureUnit==MeasureUnit.DE_KM?(r._heightMeasure.unit=MeasureUnit.DE_SM,r._heightLengthNode=(r._heightMeasure.vertical/1e3).toFixed(2),r._horizonLengthNode=(r._heightMeasure.horizon/1e3).toFixed(2),r._slantDistanceLengthNode=(r._heightMeasure.slantDistance/1e3).toFixed(2)):(r._heightMeasure.unit=MeasureUnit.DE_M,r._heightLengthNode=r._heightMeasure.vertical,r._horizonLengthNode=r._heightMeasure.horizon,r._slantDistanceLengthNode=r._heightMeasure.slantDistance))},Cesium.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction(function(e){r._drawPoint&&(r._drawPoint=!1,r._movementPoint.show=!1),null!=r._distanceMeasure?(endDistanceMeasure(r),r.Distance()):null!=r._areaMeasure&&(endAreaMeasure(r,!1),r.AreaMeasure())},Cesium.ScreenSpaceEventType.RIGHT_CLICK),t.setInputAction(function(e){null!=r._distanceMeasure?(endDistanceMeasure(r),r.Distance(),r._viewer.scene.screenSpaceCameraController._aggregator._isDown[5]=!1):null!=r._areaMeasure&&(endAreaMeasure(r,!0),r.AreaMeasure(),r._viewer.scene.screenSpaceCameraController._aggregator._isDown[5]=!1)},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)},MeasurementViewModel.prototype.isDestroyed=function(){return!1},MeasurementViewModel.prototype.destroy=function(){return this._eventHandler.destroy(),this._primitiveBoundingSpherePosition.destroy(),this._ellipsoid.destroy(),this._removePostRenderEvent(),this._editObject.dispose(),destroyObject(this)},MeasurementViewModel.prototype.Show=function(){var t=this;layui.use("layer",function(){var e=layui.layer;t._layerIndex=e.open({type:1,skin:"dataEarth-viewer-measurement",area:"262px",shade:0,anim:0,title:" ",resize:!1,offset:["80px","360px"],content:$(t._element),success:function(){t.Distance()},cancel:function(){t.hidden()}})})},MeasurementViewModel.prototype.hidden=function(){if(1<this._layerIndex&&layui.layer.close(this._layerIndex),this._movementPoint.show=!1,this._drawPoint=!1,null!=this._distanceMeasure){this._distanceMeasure.enable=!1,this._distanceMeasure.finish(),this._distanceMeasure.clear(),this._distanceMeasure=null;for(var e=0;e<this._disCollection.length;e++)this._disCollection[e].clear()}if(null!=this._areaMeasure){this._areaMeasure.enable=!1,this._areaMeasure.finish(),this._areaMeasure.clear(),this._areaMeasure=null;for(e=0;e<this._areaCollection.length;e++)this._areaCollection[e].clear();this._areaCollection=[]}if(null!=this._heightMeasure){this._heightMeasure.enable=!1,this._heightMeasure.clear(),this._heightMeasure=null;for(e=0;e<this._heiCollection.length;e++)this._heiCollection[e].clear();this._heiCollection=[]}this._editType="",this.ClearAll()};